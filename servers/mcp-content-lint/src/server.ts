import {startHttp,startStdio,JsonRpcReq,JsonRpcRes} from '@mcp/common/transport.js'; import {handle} from './service.js'; const args=new Map(process.argv.slice(2).reduce((a,c,i,t)=>i%2?a:a.concat([[c,t[i+1]]]),[] as any)); const t=(args.get('--transport')||'http') as string; const port=Number(args.get('--port')||3052); const h=(r:JsonRpcReq)=>handle(r); if(t==='http') startHttp('mcp-content-lint',h,port); else startStdio(h);